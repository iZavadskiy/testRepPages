(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{23:function(e,t,n){e.exports=n(52)},33:function(e,t,n){},34:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(6),c=n.n(r),i=n(3),u=n(4),s=n(20),l=(n(33),n(34),n(22)),f=function(e){var t=e.image,n=e.highlight,r=Object(o.useRef)();return Object(o.useEffect)((function(){n&&r.current.scrollIntoView({behavior:"smooth",block:"center"})}),[n]),a.a.createElement("div",{className:"image--preview",ref:r},a.a.createElement("img",{src:"https://farm".concat(t.farm,".staticflickr.com/").concat(t.server,"/").concat(t.id,"_").concat(t.secret,"_q.jpg"),className:"".concat(n?"image--highlight":""),alt:"loading",loading:"lazy"}))},m=function(e){var t=Object(o.useState)(!0),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(o.useRef)();return Object(o.useEffect)((function(){var e=i.current.getBoundingClientRect().top;c(!(e>1020||e<-300))})),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"images--row",ref:i},r&&e.images.map((function(t,n){return a.a.createElement(f,{key:t.id,image:t,highlight:n===e.position.table})}))))},g=n(21),p=n.n(g),v=function(e){return function(t){p.a.get(function(e){return"https://www.flickr.com/services/rest/?method=flickr.photos.getPopular&api_key=37c722755bfbfc32994675bcafd3ce31&user_id=35034348999%40N01&per_page=".concat(e,"&format=json&nojsoncallback=1")}(e)).then((function(e){t({type:"GET_IMAGES",payload:e.data.photos.photo})})).catch((function(e){console.log(e)}))}},h=!1;var w=function(e){for(var t=[],n=0;n<e.length/5;n++)t[n]=e.slice(5*n,5*n+5);return t},b=Object(u.b)((function(e){return{position:e.navigation,images:w(e.images.images)}}),(function(e){return{moveToRight:function(){return e({type:"MOVE_RIGHT"})},moveToLeft:function(){return e({type:"MOVE_LEFT"})},moveToDown:function(){return e({type:"MOVE_DOWN"})},moveToUp:function(){return e({type:"MOVE_UP"})},getData:function(){return e(v(50))},loadMore:function(){return e(v(40))}}}))((function(e){return Object(o.useEffect)((function(){e.getData()}),[]),a.a.createElement("div",{className:"App",onKeyDown:function(t){switch(t.key){case"ArrowUp":t.preventDefault(),e.moveToUp();break;case"ArrowDown":t.preventDefault(),e.moveToDown();break;case"ArrowLeft":t.preventDefault(),e.moveToLeft();break;case"ArrowRight":t.preventDefault(),e.moveToRight();break;default:t.preventDefault()}e.position.row===e.images.length-2&&e.loadMore()},onWheel:function(t){return(n=function(){return function(t){t.deltaY>0?e.moveToDown():e.moveToUp()}(t)},o=500,function(){if(h)return!1;h=!0,n(),setTimeout((function(){h=!1}),o)})();var n,o},tabIndex:"0"},e.images&&e.images.map((function(t,n){return a.a.createElement(m,{key:t.id,images:t,position:e.position.row===n&&e.position})})))}));var d=function(){return a.a.createElement("div",null,a.a.createElement(b,null))},E={row:0,table:0},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"MOVE_UP":case"SCROLL_UP":return e.row>0?{row:e.row-1,table:e.table}:e;case"MOVE_DOWN":case"SCROLL_DOWN":return{row:e.row+1,table:e.table};case"MOVE_LEFT":return e.table>0?{row:e.row,table:e.table-1}:e;case"MOVE_RIGHT":return e.table<4?{row:e.row,table:e.table+1}:e;default:return e}},_={images:[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.payload;switch(n){case"GET_IMAGES":return{images:e.images.concat(o)};default:return e}},y=Object(i.c)({navigation:O,images:T});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=Object(i.d)(y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(i.a)(s.a));c.a.render(a.a.createElement(u.a,{store:D},a.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.77d51e4e.chunk.js.map